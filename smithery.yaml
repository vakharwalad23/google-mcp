# Smithery configuration file: https://smithery.ai/docs/config#smitheryyaml

startCommand:
  type: stdio
  configSchema:
    type: object
    required:
      [
        "GOOGLE_OAUTH_CLIENT_ID",
        "GOOGLE_OAUTH_CLIENT_SECRET",
        "GOOGLE_OAUTH_TOKEN_PATH",
      ]
    properties:
      GOOGLE_OAUTH_CLIENT_ID:
        type: string
        description: Google OAuth Client ID
      GOOGLE_OAUTH_CLIENT_SECRET:
        type: string
        description: Google OAuth Client Secret
      GOOGLE_OAUTH_TOKEN_PATH:
        type: string
        description: Path to store OAuth tokens
      GOOGLE_CLIENT_EMAIL:
        type: string
        description: Service Account Email (alternative to OAuth)
      GOOGLE_PRIVATE_KEY:
        type: string
        description: Service Account Private Key (alternative to OAuth)
      GMAIL_USER_TO_IMPERSONATE:
        type: string
        description: User email to impersonate with Service Account
    description: Configuration for Google MCP server authentication

  commandFunction: |-
    config => ({
      command: 'bun',
      args: ['run', 'index.ts'],
      env: {
        GOOGLE_OAUTH_CLIENT_ID: config.GOOGLE_OAUTH_CLIENT_ID,
        GOOGLE_OAUTH_CLIENT_SECRET: config.GOOGLE_OAUTH_CLIENT_SECRET,
        GOOGLE_OAUTH_TOKEN_PATH: config.GOOGLE_OAUTH_TOKEN_PATH,
        GOOGLE_CLIENT_EMAIL: config.GOOGLE_CLIENT_EMAIL,
        GOOGLE_PRIVATE_KEY: config.GOOGLE_PRIVATE_KEY,
        GMAIL_USER_TO_IMPERSONATE: config.GMAIL_USER_TO_IMPERSONATE
      }
    })
